<div class="slide-out-bg"></div>

<div class="slide-out">
  <div class="slide-out-card">
    <LinkTo @route="author" class="btn-back">
      <span class="sr-only">Back</span>
    </LinkTo>

    <div class="slide-out-heading">
      <div class="title">
        <h3>{{@model.last}}, {{@model.first}}</h3>

        <div class="actions">
          {{#if (can "edit author" @model)}}
            <LinkTo @route="author.edit" @model={{@model}} class="btn-pop">edit</LinkTo>
          {{/if}}

          {{#if (can "delete author" @model)}}
            <button
              class="btn-recessed"
              type="button"
              {{on "click" (fn this.deleteAuthor @model)}}
            >delete</button>
          {{/if}}
        </div>
      </div>

      <div class="details">
        <p>
          <strong>Added By:</strong>
          {{@model.username}}
        </p>
      </div>
    </div>

    <div class="slide-out-content">
      <div class="title">
        <h3>{{@model.books.length}} Books from this author</h3>
      </div>

      <div class="actions">
        {{#if (can "create book")}}
          <LinkTo @route="author.detail.new-book" @model={{@model}} class="btn-secondary btn-add">
          add a book
          </LinkTo>
        {{/if}}
      </div>

      <ul class="book-list">
        {{#each @model.books as |book|}}
          <li class="book">
            <p class="book-title">
              <LinkTo @route="book.detail" @model={{book}}>
                {{book.title}}
              </LinkTo>
            </p>
            <p class="book-isbn">{{book.isbn}}</p>
          </li>
        {{/each}}
      </ul>
    </div>
  </div>
</div>

<LiquidOutlet/>